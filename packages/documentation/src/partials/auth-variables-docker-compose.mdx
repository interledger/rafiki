import { LinkOut } from '@interledger/docs-design-system'

<div class="overflow-table">

| Variable                          | Required | Description                                                                                                                                                                                                                                                                                                                                                        |
| --------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `AUTH_DATABASE_URL`               | Y        | The URL of the Postgres database storing your Open Payments grant data.                                                                                                                                                                                                                                                                                            |
| `AUTH_SERVER_URL`                 | Y        | The public endpoint for your Rafiki instance’s public Open Payments routes.                                                                                                                                                                                                                                                                                        |
| `COOKIE_KEY`                      | Y        | The <LinkOut href="https://koajs.com/#app-keys-">koa KeyGrip key</LinkOut> that is used to sign cookies for an interaction session.                                                                                                                                                                                                                                |
| `IDENTITY_SERVER_SECRET`          | Y        | A shared secret between the authorization server and the IdP server; the authorization server will use the secret to secure its IdP-related endpoints.<br/>When the IdP server sends requests to the authorization server, the IdP server must provide the secret via an [`x-idp-secret`](/integration/requirements/open-payments/idp#x-idp-secret-header) header. |
| `IDENTITY_SERVER_URL`             | Y        | The URL of your IdP's server, used by the authorization server to inform an Open Payments client of where to redirect the end-user to start interactions.                                                                                                                                                                                                          |
| `REDIS_URL`                       | Y        | The connection URL for Redis.                                                                                                                                                                                                                                                                                                                                      |
| `ACCESS_TOKEN_DELETION_DAYS`      | N        | The days until expired and/or revoked access tokens are deleted.                                                                                                                                                                                                                                                                                                   |
| `ACCESS_TOKEN_EXPIRY_SECONDS`     | N        | The expiry time, in seconds, for access tokens.                                                                                                                                                                                                                                                                                                                    |
| `ADMIN_API_SIGNATURE_TTL_SECONDS` | N        | The TTL, in seconds, for which a request’s signature will be valid.                                                                                                                                                                                                                                                                                                |
| `ADMIN_API_SIGNATURE_VERSION`     | N        | The version of the request signing algorithm used to generate signatures.                                                                                                                                                                                                                                                                                          |
| `ADMIN_PORT`                      | N        | The port of your Rafiki Auth Admin API server.                                                                                                                                                                                                                                                                                                                     |
| `AUTH_PORT`                       | N        | The port of your Open Payments authorization server.                                                                                                                                                                                                                                                                                                               |
| `INCOMING_PAYMENT_INTERACTION`    | N        | When `true`, incoming Open Payments grant requests are interactive.                                                                                                                                                                                                                                                                                                |
| `INCOMING_PAYMENT_WORKERS`        | N        | The number of workers processing incoming payment requests.                                                                                                                                                                                                                                                                                                        |
| `INTERACTION_EXPIRY_SECONDS`      | N        | The time, in seconds, for which a user can interact with a grant request before the request expires.                                                                                                                                                                                                                                                               |
| `INTERACTION_PORT`                | N        | The port number of your Open Payments interaction-related APIs.                                                                                                                                                                                                                                                                                                    |
| `INTROSPECTION_PORT`              | N        | The port of your Open Payments access token introspection server.                                                                                                                                                                                                                                                                                                  |
| `LIST_ALL_ACCESS_INTERACTION`     | N        | When `true`, grant requests that include a `list-all` action will require interaction. In these requests, the client asks to list resources that it did not create.                                                                                                                                                                                                |
| `LOG_LEVEL`                       | N        | <LinkOut href="https://getpino.io/#/docs/api?id=levels">Pino log level</LinkOut>.                                                                                                                                                                                                                                                                                  |
| `NODE_ENV`                        | N        | The type of node environment: `development`, `test`, or `production`.                                                                                                                                                                                                                                                                                              |
| `QUOTE_INTERACTION`               | N        | When `true`, quote grants are interactive.                                                                                                                                                                                                                                                                                                                         |
| `REDIS_TLS_CA_FILE_PATH`          | N        | <LinkOut href="https://redis.io/docs/latest/operate/oss_and_stack/management/security/encryption/">Redis TLS config</LinkOut>.                                                                                                                                                                                                                                     |
| `REDIS_TLS_CERT_FILE_PATH`        | N        | <LinkOut href="https://redis.io/docs/latest/operate/oss_and_stack/management/security/encryption/">Redis TLS config</LinkOut>.                                                                                                                                                                                                                                     |
| `REDIS_TLS_KEY_FILE_PATH`         | N        | <LinkOut href="https://redis.io/docs/latest/operate/oss_and_stack/management/security/encryption/">Redis TLS config</LinkOut>.                                                                                                                                                                                                                                     |
| `TRUST_PROXY`                     | N        | Must be set to `true` when running Rafiki behind a proxy. When `true`, the `X-Forwarded-Proto` header is used to determine if connections are secure.                                                                                                                                                                                                              |
| `WAIT_SECONDS`                    | N        | The wait time, in seconds, included in a grant request response (`grant.continue`).                                                                                                                                                                                                                                                                                |

</div>
