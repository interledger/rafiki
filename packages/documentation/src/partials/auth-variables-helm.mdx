import { LinkOut } from '@interledger/docs-design-system'

<div class="overflow-table">

### Required values

| Helm variable                      | Default                     | Description                                                                                                                                                                                                                                                                                                                                                      |
| ---------------------------------- | --------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `auth.databaseUrl`                 | _undefined_                 | The URL of the Postgres database storing your Open Payments grant data. Can be provided directly as a value or referenced from a secret.                                                                                                                                                                                                                         |
| `auth.redisUrl`                    | _undefined_                 | The connection URL for Redis. Can be provided directly as a value or referenced from a secret.                                                                                                                                                                                                                                                                   |
| `auth.cookieKey`                   | `changeme`                  | The koa KeyGrip key that is used to sign cookies for an interaction session. Can be provided directly as a value or referenced from a secret.                                                                                                                                                                                                                    |
| `auth.identityServer.domain`       | `http://rafiki-backend/idp` | The URL of your IdP's server, used by the authorization server to inform an Open Payments client of where to redirect the end-user to start interactions.                                                                                                                                                                                                        |
| `auth.identityServer.serverSecret` | `changeme`                  | A shared secret between the authorization server and the IdP server; the authorization server will use the secret to secure its IdP-related endpoints.<br/>When the IdP server sends requests to the authorization server, the IdP server must provide the secret via an `x-idp-secret` header. Can be provided directly as a value or referenced from a secret. |

### Conditionally required values

| Helm value name   | Default | Description                                                                                                                                           |
| ----------------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| `auth.trustProxy` | `true`  | Must be set to `true` when running Rafiki behind a proxy. When `true`, the `X-Forwarded-Proto` header is used to determine if connections are secure. |

### Optional values

| Helm value name                               | Default                   | Description                                                                                                          |
| --------------------------------------------- | ------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| `auth.replicaCount`                           | `1`                       | The number of pods to run across the cluster.                                                                        |
| `auth.nodeSelector`                           | `{}`                      | NodeSelector can be used to specify the nodes on which the pods should run on your cluster.                          |
| `auth.serviceAccount.create`                  | `false`                   | If true, a ServiceAccount will be created with the specified name and annotations.                                   |
| `auth.serviceAccount.annotations`             | `{}`                      | Annotations to add to the ServiceAccount.                                                                            |
| `auth.serviceAccount.name`                    | `""`                      | The name of the ServiceAccount to use.                                                                               |
| `auth.secrets.create`                         | `false`                   | If true, the chart will create a secret with the name of the release. If false, you must create the secret manually. |
| `auth.service.name`                           | `service`                 | The name of the service.                                                                                             |
| `auth.service.type`                           | `ClusterIP`               | The type of Kubernetes service.                                                                                      |
| `auth.service.annotations`                    | `{}`                      | Annotations to add to the service.                                                                                   |
| `auth.service.ports`                          | Multiple ports            | Service port configuration for auth (3006), admin (3003), introspection (3007), and interaction (3009) endpoints.    |
| `auth.configmap`                              | `files/config.yaml`       | Defines the location of the template that will be used to generate the ConfigMap.                                    |
| `auth.secretsGenFile`                         | `files/secret.yaml`       | Defines the location of the template that will be used to generate the default secret.                               |
| `auth.containers.name`                        | `server`                  | The name of the main container.                                                                                      |
| `auth.containers.readinessProbe.httpGet.path` | `/healthz`                | The path for the readiness probe HTTP check.                                                                         |
| `auth.containers.readinessProbe.httpGet.port` | `3007`                    | The port for the readiness probe HTTP check.                                                                         |
| `auth.containers.livenessProbe.httpGet.path`  | `/healthz`                | The path for the liveness probe HTTP check.                                                                          |
| `auth.containers.livenessProbe.httpGet.port`  | `3007`                    | The port for the liveness probe HTTP check.                                                                          |
| `auth.containers.resources.requests.memory`   | `128Mi`                   | The minimum amount of memory required by the container.                                                              |
| `auth.containers.resources.requests.cpu`      | `200m`                    | The minimum amount of CPU required by the container.                                                                 |
| `auth.containers.resources.limits.memory`     | `512Mi`                   | The maximum amount of memory the container can use.                                                                  |
| `auth.containers.resources.limits.cpu`        | `400m`                    | The maximum amount of CPU the container can use.                                                                     |
| `auth.containers.ports`                       | Multiple ports            | Container port configuration for auth (3006), admin (3003), introspection (3007), and interaction (3009) endpoints.  |
| `auth.nodeEnv`                                | `production`              | The type of node environment: `development`, `test`, or `production`.                                                |
| `auth.logLevel`                               | `info`                    | Pino log level                                                                                                       |
| `auth.authServerUrl`                          | `http://rafiki-auth:3006` | The public endpoint for your Rafiki instance's public Open Payments routes.                                          |
| `auth.interaction.quote`                      | `false`                   | When `true`, quote grants are interactive. Note that this is a string value.                                         |
| `auth.interaction.cookieSameSite`             | `lax`                     | The SameSite attribute for interaction cookies.                                                                      |
| `auth.interaction.incomingPayment`            | `false`                   | When `true`, incoming Open Payments grant requests are interactive. Note that this is a string value.                |
| `auth.port.admin`                             | `3003`                    | The port of your Rafiki Auth Admin API server.                                                                       |
| `auth.port.auth`                              | `3006`                    | The port of your Open Payments authorization server.                                                                 |
| `auth.port.introspection`                     | `3007`                    | The port of your Open Payments access token introspection server.                                                    |
| `auth.grant.waitSeconds`                      | `5`                       | The wait time, in seconds, included in a grant request response (`grant.continue`).                                  |
| `auth.accessToken.deletionDays`               | `30`                      | The days until expired and/or revoked access tokens are deleted.                                                     |
| `auth.accessToken.expirySeconds`              | `600` (10 minutes)        | The expiry time, in seconds, for access tokens.                                                                      |
| `auth.workers.cleanup`                        | `1`                       | The number of workers processing expired or revoked access tokens.                                                   |
| `auth.ingress.enabled`                        | `false`                   | When `true`, an Ingress resource is created to expose the application.                                               |
| `auth.ingress.className`                      | `nginx`                   | The Ingress class name to use.                                                                                       |
| `auth.ingress.tls`                            | TLS configuration         | TLS configuration for the Ingress, including secret name and hosts.                                                  |
| `auth.ingress.hosts`                          | Host configuration        | Host configuration for the Ingress, including host, paths, and service details.                                      |

</div>
