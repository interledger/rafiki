import { LinkOut } from '@interledger/docs-design-system'

<div class="overflow-table">

### Required values

| Helm variable                                                                                                                                          | Default                                                          | Description                                                                                                                                                                                                                                                                                     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `auth.postgresql.host`,<br />`auth.postgresql.port`,<br />`auth.postgresql.username`,<br />`auth.postgresql.database`,<br />`auth.postgresql.password` | `postgresql://postgres:password@localhost:5432/auth_development` | The URL of the Postgres database storing your Open Payments grant data. For Helm, these components are provided individually.                                                                                                                                                                   |
| `auth.server.domain`                                                                                                                                   | _undefined_                                                      | The public endpoint for your Rafiki instance's public Open Payments routes.                                                                                                                                                                                                                     |
| `auth.cookieKey`                                                                                                                                       | _undefined_                                                      | The koa KeyGrip key that is used to sign cookies for an interaction session.                                                                                                                                                                                                                    |
| `auth.identityServer.domain`                                                                                                                           | _undefined_                                                      | The URL of your IdP's server, used by the authorization server to inform an Open Payments client of where to redirect the end-user to start interactions.                                                                                                                                       |
| `auth.identityServer.secret`                                                                                                                           | _undefined_                                                      | A shared secret between the authorization server and the IdP server; the authorization server will use the secret to secure its IdP-related endpoints.<br/>When the IdP server sends requests to the authorization server, the IdP server must provide the secret via an `x-idp-secret` header. |
| `auth.redis.host`,<br />`auth.redis.port`                                                                                                              | `redis://127.0.0.1:6379`                                         | The connection URL for Redis. For Helm, these components are provided individually.                                                                                                                                                                                                             |

### Conditionally required values

| Helm value name   | Default | Description                                                                                                                                           |
| ----------------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| `auth.trustProxy` | `false` | Must be set to `true` when running Rafiki behind a proxy. When `true`, the `X-Forwarded-Proto` header is used to determine if connections are secure. |

### Optional values

| Helm value name                     | Default            | Description                                                                                                                                                         |
| ----------------------------------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `auth.accessToken.deletionDays`     | `30`               | The days until expired and/or revoked access tokens are deleted.                                                                                                    |
| `auth.accessToken.expirySeconds`    | `600` (10 minutes) | The expiry time, in seconds, for access tokens.                                                                                                                     |
| `auth.adminApi.signatureVersion`    | `1`                | The version of the request signing algorithm used to generate signatures.                                                                                           |
| `auth.adminAPI.signatureTtlSeconds` | `30`               | The TTL, in seconds, for which a request's signature will be valid.                                                                                                 |
| `auth.port.admin`                   | `3003`             | The port of your Rafiki Auth Admin API server.                                                                                                                      |
| `auth.port.auth`                    | `3006`             | The port of your Open Payments authorization server.                                                                                                                |
| `auth.workers.cleanup`              | `1`                | The number of workers processing expired or revoked access tokens.                                                                                                  |
| `auth.enableManualMigrations`       | `false`            | When `true`, you must run the auth Postgres database manually with the command `npm run knex – migrate:latest –envproduction`                                       |
| `auth.interaction.incomingPayment`  | `false`            | When `true`, incoming Open Payments grant requests are interactive                                                                                                  |
| `auth.interactionExpirySeconds`     | `600` (10 minutes) | The time, in seconds, for which a user can interact with a grant request before the request expires.                                                                |
| `auth.port.interaction`             | `3009`             | The port number of your Open Payments interaction-related APIs.                                                                                                     |
| `auth.port.introspection`           | `3007`             | The port of your Open Payments access token introspection server.                                                                                                   |
| `auth.interaction.listAll`          | `true`             | When `true`, grant requests that include a `list-all` action will require interaction. In these requests, the client asks to list resources that it did not create. |
| `auth.logLevel`                     | `info`             | Pino log level                                                                                                                                                      |
| `auth.nodeEnv`                      | `development`      | The type of node environment: `development`, `test`, or `production`.                                                                                               |
| `auth.interaction.quote`            | `false`            | When `true`, quote grants are interactive.                                                                                                                          |
| `auth.redis.tlsCaFile`              | `''`               | Redis TLS config                                                                                                                                                    |
| `auth.redis.tlsCertFile`            | `''`               | Redis TLS config                                                                                                                                                    |
| `auth.redis.tlsKeyFile`             | `''`               | Redis TLS config                                                                                                                                                    |
| `auth.grant.waitSeconds`            | `5`                | The wait time, in seconds, included in a grant request response (`grant.continue`).                                                                                 |

</div>
