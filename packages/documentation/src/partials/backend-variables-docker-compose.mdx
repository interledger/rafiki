import { LinkOut } from '@interledger/docs-design-system'

<div class="overflow-table">

| Variable                                              | Required | Description                                                                                                                                                                                                                                 |
| ----------------------------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `AUTH_SERVER_GRANT_URL`                               | Y        | The endpoint on your Open Payments authorization server to grant a request.                                                                                                                                                                 |
| `AUTH_SERVER_INTROSPECTION_URL`                       | Y        | The endpoint on your Open Payments authorization server to introspect an access token.                                                                                                                                                      |
| `DATABASE_URL`                                        | Y        | The Postgres database URL of the database storing your resource data.                                                                                                                                                                       |
| `EXCHANGE_RATES_URL`                                  | Y        | The endpoint your Rafiki instance uses to request exchange rates.                                                                                                                                                                           |
| `ILP_ADDRESS`                                         | Y        | The ILP address of your Rafiki instance.                                                                                                                                                                                                    |
| `ILP_CONNECTOR_URL`                                   | Y        | The ILP connector address where ILP packets are received.                                                                                                                                                                                   |
| `KEY_ID`                                              | Y        | Your Rafiki instance’s client key ID.                                                                                                                                                                                                       |
| `OPEN_PAYMENTS_URL`                                   | Y        | The public endpoint of your Open Payments resource server.                                                                                                                                                                                  |
| `REDIS_URL`                                           | Y        | The Redis URL of the database handling ILP packet data.                                                                                                                                                                                     |
| `USE_TIGERBEETLE`                                     | Y        | When `true`, a TigerBeetle database is used for accounting. When `false`, a Postgres database is used.                                                                                                                                      |
| `WEBHOOK_URL`                                         | Y        | Your endpoint that consumes webhook events.                                                                                                                                                                                                 |
| `ADMIN_PORT`                                          | N        | The port of your Backend Auth API server.                                                                                                                                                                                                   |
| `API_SECRET`                                          | N        | N/A                                                                                                                                                                                                                                         |
| `API_SIGNATURE_VERSION`                               | N        | The version of the request signing algorithm used to generate signatures.                                                                                                                                                                   |
| `AUTO_PEERING_SERVER_PORT`                            | N        | If auto-peering is enabled, the server will use this port.                                                                                                                                                                                  |
| `CONNECTOR_PORT`                                      | N        | The port of the ILP connector for sending packets via ILP over HTTP.                                                                                                                                                                        |
| `ENABLE_AUTO_PEERING`                                 | N        | When `true`, auto-peering is enabled.                                                                                                                                                                                                       |
| `ENABLE_MANUAL_MIGRATIONS`                            | N        | When `true`, you must run the database manually with the command `npm run knex – migrate:latest –env production`                                                                                                                            |
| `ENABLE_SPSP_PAYMENT_POINTERS`                        | N        | When `true`, the SPSP route is enabled.                                                                                                                                                                                                     |
| `ENABLE_TELEMETRY`                                    | N        | Enables the telemetry service on Rafiki.                                                                                                                                                                                                    |
| `ENABLE_TELEMETRY_TRACES`                             | N        | N/A                                                                                                                                                                                                                                         |
| `EXCHANGE_RATES_LIFETIME`                             | N        | The time, in milliseconds, the exchange rates you provide via the `EXCHANGE_RATES_URL` are valid.                                                                                                                                           |
| `GRAPHQL_IDEMPOTENCY_KEY_LOCK_MS`                     | N        | The TTL, in milliseconds, for `idempotencyKey` concurrency lock on GraphQL mutations on the Backend Admin API.                                                                                                                              |
| `GRAPHQL_IDEMPOTENCY_KEY_TTL_MS`                      | N        | The TTL, in milliseconds, for `idempotencyKey` on GraphQL mutations on the Backend Admin API.                                                                                                                                               |
| `INCOMING_PAYMENT_CREATED_POLL_FREQUENCY_MS`          | N        | N/A                                                                                                                                                                                                                                         |
| `INCOMING_PAYMENT_CREATED_POLL_TIMEOUT_MS`            | N        | N/A                                                                                                                                                                                                                                         |
| `INCOMING_PAYMENT_EXPIRY_MAX_MS`                      | N        | The maximum into the future, in milliseconds, incoming payments expiry can be set to on creation.                                                                                                                                           |
| `INCOMING_PAYMENT_WORKER_IDLE`                        | N        | The time, in milliseconds, that `INCOMING_PAYMENT_WORKERS` will wait until checking an empty incoming payment request queue again.                                                                                                          |
| `INCOMING_PAYMENT_WORKERS`                            | N        | The number of workers processing incoming payment requests.                                                                                                                                                                                 |
| `INSTANCE_NAME`                                       | N        | Your Rafiki instance's name used to communicate for auto-peering and/or [telemetry](/overview/concepts/telemetry). Required when auto-peering and/or telemetry is enabled.                                                                  |
| `LOG_LEVEL`                                           | N        | <LinkOut href="https://getpino.io/#/docs/api?id=levels">Pino log level</LinkOut>                                                                                                                                                            |
| `MAX_OUTGOING_PAYMENT_RETRY_ATTEMPTS`                 | N        | Specifies how many times an outgoing payment is retried before failing completely.                                                                                                                                                          |
| `NODE_ENVIRONMENT`                                    | N        | The type of node environment: `development`, `test`, or `production`.                                                                                                                                                                       |
| `OPEN_PAYMENTS_PORT`                                  | N        | The port of your Open Payments resource server.                                                                                                                                                                                             |
| `OPEN_TELEMETRY_COLLECTOR_URLS`                       | N        | N/A                                                                                                                                                                                                                                         |
| `OPEN_TELEMETRY_EXPORT_INTERVAL`                      | N        | N/A                                                                                                                                                                                                                                         |
| `OPEN_TELEMETRY_TRACE_COLLECTOR_URLS`                 | N        | N/A                                                                                                                                                                                                                                         |
| `OUTGOING_PAYMENT_WORKER_IDLE`                        | N        | The time, in milliseconds, that `OUTGOING_PAYMENT_WORKERS` wait until they check an empty outgoing payment request queue again.                                                                                                             |
| `OUTGOING_PAYMENT_WORKERS`                            | N        | The number of workers processing outgoing payment requests.                                                                                                                                                                                 |
| `POLL_INCOMING_PAYMENT_CREATED_WEBHOOK`               | N        | N/A                                                                                                                                                                                                                                         |
| `PRIVATE_KEY_FILE`                                    | N        | The path to your Rafiki instance’s client private key.                                                                                                                                                                                      |
| `QUOTE_LIFESPAN`                                      | N        | The time, in milliseconds, an Open Payments quote is valid for.                                                                                                                                                                             |
| `REDIS_TLS_CA_FILE_PATH`                              | N        | <LinkOut href="https://redis.io/docs/latest/operate/oss_and_stack/management/security/encryption/">Redis TLS config</LinkOut>                                                                                                               |
| `REDIS_TLS_CERT_FILE_PATH`                            | N        | <LinkOut href="https://redis.io/docs/latest/operate/oss_and_stack/management/security/encryption/">Redis TLS config</LinkOut>                                                                                                               |
| `REDIS_TLS_KEY_FILE_PATH`                             | N        | <LinkOut href="https://redis.io/docs/latest/operate/oss_and_stack/management/security/encryption/">Redis TLS config</LinkOut>                                                                                                               |
| `SIGNATURE_SECRET`                                    | N        | The secret to generate request header signatures for webhook event requests.                                                                                                                                                                |
| `SIGNATURE_VERSION`                                   | N        | The version number to generate request header signatures for webhook events.                                                                                                                                                                |
| `SLIPPAGE`                                            | N        | The accepted ILP rate fluctuation.                                                                                                                                                                                                          |
| `STREAM_SECRET`                                       | N        | The seed secret to generate shared STREAM secrets.                                                                                                                                                                                          |
| `TELEMETRY_EXCHANGE_RATES_LIFETIME`                   | N        | N/A                                                                                                                                                                                                                                         |
| `TELEMETRY_EXCHANGE_RATES_URL`                        | N        | The endpoint Rafiki will query for exchange rates. Used as a fallback if/when [exchange rates](/integration/requirements/exchange-rates) aren’t provided.                                                                                   |
| `TIGERBEETLE_CLUSTER_ID`                              | N        | The TigerBeetle cluster ID picked by the system that starts the TigerBeetle cluster to create a <LinkOut href="https://docs.tigerbeetle.com/clients/node/#creating-a-client">TigerBeetle client</LinkOut>.                                  |
| `TIGERBEETLE_REPLICA_ADDRESSES`                       | N        | TigerBeetle replica addresses for all replicas in the cluster. The addresses are comma-separated IP addresses/ports, to create a <LinkOut href="https://docs.tigerbeetle.com/clients/node/#creating-a-client">TigerBeetle client</LinkOut>. |
| `TIGERBEETLE_REPLICA_ADDRESSES.SPLIT`                 | N        | N/A                                                                                                                                                                                                                                         |
| `TIGERBEETLE_TWO_PHASE_TIMEOUT_SECONDS`               | N        | N/A                                                                                                                                                                                                                                         |
| `TRUST_PROXY`                                         | N        | Must be set to `true` when running Rafiki behind a proxy. When `true`, the `X-Forwarded-Proto` header is used to determine if connections are secure.                                                                                       |
| `WALLET_ADDRESS_DEACTIVATION_PAYMENT_GRACE_PERIOD_MS` | N        | The time into the future, in milliseconds, to set expiration of Open Payments incoming payments when deactivating a wallet address.                                                                                                         |
| `WALLET_ADDRESS_LOOKUP_TIMEOUT_MS`                    | N        | The time, in milliseconds, you have to create a missing wallet address before timeout.                                                                                                                                                      |
| `WALLET_ADDRESS_POLLING_FREQUENCY_MS`                 | N        | The frequency of polling while waiting for you to create a missing wallet address.                                                                                                                                                          |
| `WALLET_ADDRESS_URL`                                  | N        | Your Rafiki instance’s internal wallet address.                                                                                                                                                                                             |
| `WALLET_ADDRESS_WORKER_IDLE`                          | N        | The time, in milliseconds, that `WALLET_ADDRESS_WORKERS` wait until checking the empty wallet address request queue again.                                                                                                                  |
| `WALLET_ADDRESS_WORKERS`                              | N        | The number of workers processing wallet address requests.                                                                                                                                                                                   |
| `WEBHOOK_MAX_RETRY`                                   | N        | The maximum number of times your Rafiki instance’s backend retries sending a certain webhook event to your configured `WEBHOOK_URL`.                                                                                                        |
| `WEBHOOK_TIMEOUT`                                     | N        | The time, in milliseconds, that your Rafiki instance will wait for a `200` response from your webhook endpoint. If a `200` response is not received, Rafiki will time out and try to send the webhook event again.                          |
| `WEBHOOK_WORKER_IDLE`                                 | N        | The time, in milliseconds, that `WEBHOOK_WORKERS` will wait until they check the empty webhook event queue again.                                                                                                                           |
| `WEBHOOK_WORKERS`                                     | N        | The number of workers processing webhook events.                                                                                                                                                                                            |
| `WITHDRAWAL_THROTTLE_DELAY`                           | N        | The delay in liquidity withdrawal processing.                                                                                                                                                                                               |

</div>
