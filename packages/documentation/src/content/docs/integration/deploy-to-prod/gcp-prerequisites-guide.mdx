---
title: GCP prerequisites
---

## Complete Step-by-Step Instructions for Google Cloud Platform Setup

This guide provides detailed instructions for setting up all Google Cloud Platform prerequisites required for deploying Rafiki with TigerBeetle on Kubernetes.

## Table of Contents

1. [Initial GCP Account Setup](#initial-gcp-account-setup)
2. [Project Creation and Configuration](#project-creation-and-configuration)
3. [Billing Setup](#billing-setup)
4. [CLI Tools Installation](#cli-tools-installation)
5. [Service Account Setup](#service-account-setup)
6. [API Enablement](#api-enablement)
7. [IAM Permissions Configuration](#iam-permissions-configuration)
8. [Network Infrastructure Setup](#network-infrastructure-setup)
9. [DNS Setup](#dns-setup)
10. [Security Configuration](#security-configuration)
11. [Verification and Testing](#verification-and-testing)

## Initial GCP Account Setup

### Step 1: Create Google Cloud Account

1. **Visit Google Cloud Console**
   ```
   Navigate to: https://console.cloud.google.com
   ```

2. **Sign in or Create Account**
   - If you have a Google account, sign in
   - If not, create a new Google account
   - Accept Google Cloud Terms of Service

3. **Activate Free Trial (if eligible)**
   - Click "Activate" for the $300 free credit
   - Provide payment information (required but won't be charged during trial)
   - Complete identity verification

### Step 2: Verify Account Status

```bash
# Check if you're logged in correctly
gcloud auth list

# Should show your account email
```

## Project Creation and Configuration

### Step 1: Create New Project

1. **Via Google Cloud Console:**
   - Go to the project selector dropdown (top of the page)
   - Click "New Project"
   - Enter project details:
     - **Project Name**: `rafiki-production` (or your preferred name)
     - **Project ID**: `rafiki-prod-[random-string]` (must be globally unique)
     - **Organization**: Select your organization (if applicable)
   - Click "Create"

2. **Via Command Line:**
   ```bash
   # Set your desired project ID (must be globally unique)
   export PROJECT_ID="rafiki-prod-$(date +%s)"
   export PROJECT_NAME="Rafiki Production"
   
   # Create the project
   gcloud projects create $PROJECT_ID --name="$PROJECT_NAME"
   
   # Verify project creation
   gcloud projects list --filter="PROJECT_ID:$PROJECT_ID"
   ```

### Step 2: Set Default Project

```bash
# Set the project as your default
gcloud config set project $PROJECT_ID

# Verify the setting
gcloud config get-value project
```

### Step 3: Enable Project for Billing

```bash
# List available billing accounts
gcloud billing accounts list

# Link project to billing account (replace BILLING_ACCOUNT_ID)
export BILLING_ACCOUNT_ID="your-billing-account-id"
gcloud billing projects link $PROJECT_ID --billing-account=$BILLING_ACCOUNT_ID

# Verify billing is enabled
gcloud billing projects describe $PROJECT_ID
```

## Billing Setup

### Step 1: Configure Billing Account

1. **Access Billing Console:**
   ```
   Navigate to: https://console.cloud.google.com/billing
   ```

2. **Create or Select Billing Account:**
   - If no billing account exists, click "Create Account"
   - Fill in payment details and billing information
   - If billing account exists, select it

3. **Set Billing Alerts:**
   ```bash
   # Create budget alert at $100/month
   gcloud billing budgets create \
     --billing-account=$BILLING_ACCOUNT_ID \
     --display-name="Rafiki Production Budget" \
     --budget-amount=100USD \
     --threshold-rule=percent=50,basis=CURRENT_SPEND \
     --threshold-rule=percent=90,basis=CURRENT_SPEND \
     --threshold-rule=percent=100,basis=CURRENT_SPEND
   ```

### Step 2: Enable Detailed Billing Export

```bash
# Create BigQuery dataset for billing export
bq mk --location=US billing_export

# Configure billing export (replace with your BigQuery dataset)
gcloud billing accounts get-iam-policy $BILLING_ACCOUNT_ID
```

## CLI Tools Installation

### Step 1: Install Google Cloud SDK

#### For Linux/macOS:
```bash
# Download and install
curl https://sdk.cloud.google.com | bash

# Restart shell or source profile
exec -l $SHELL

# Initialize gcloud
gcloud init
```

#### For Windows:
1. Download installer from: https://cloud.google.com/sdk/docs/install
2. Run the installer
3. Follow installation prompts
4. Open new Command Prompt/PowerShell
5. Run: `gcloud init`

### Step 2: Install kubectl

```bash
# Install kubectl via gcloud
gcloud components install kubectl

# Verify installation
kubectl version --client
```

### Step 3: Install Helm

#### For Linux/macOS:
```bash
# Download and install Helm
curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash

# Verify installation
helm version
```

#### For Windows:
```powershell
# Using Chocolatey
choco install kubernetes-helm

# Or download from: https://github.com/helm/helm/releases
```

### Step 4: Install Additional Tools

```bash
# Install additional gcloud components
gcloud components install gke-gcloud-auth-plugin
gcloud components install beta
gcloud components install alpha

# Update all components
gcloud components update
```

## Service Account Setup

### Step 1: Create Service Accounts

```bash
# Create service account for Rafiki application
gcloud iam service-accounts create rafiki-sa \
  --description="Service account for Rafiki application" \
  --display-name="Rafiki Service Account"

# Create service account for GKE nodes
gcloud iam service-accounts create rafiki-node-sa \
  --description="Service account for GKE nodes" \
  --display-name="Rafiki Node Service Account"

# Create service account for CI/CD (if needed)
gcloud iam service-accounts create rafiki-cicd-sa \
  --description="Service account for CI/CD pipeline" \
  --display-name="Rafiki CI/CD Service Account"
```

### Step 2: Generate Service Account Keys

```bash
# Create key for Rafiki application service account
gcloud iam service-accounts keys create rafiki-sa-key.json \
  --iam-account=rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com

# Create key for CI/CD service account (if needed)
gcloud iam service-accounts keys create rafiki-cicd-key.json \
  --iam-account=rafiki-cicd-sa@$PROJECT_ID.iam.gserviceaccount.com

# Secure the keys
chmod 600 *.json
```

### Step 3: Set Up Workload Identity (Recommended)

```bash
# Enable Workload Identity on the project
gcloud container clusters update rafiki-cluster \
  --workload-pool=$PROJECT_ID.svc.id.goog \
  --zone=us-central1-a

# Create Kubernetes service account
kubectl create serviceaccount rafiki-ksa \
  --namespace=rafiki

# Bind Kubernetes SA to Google SA
gcloud iam service-accounts add-iam-policy-binding \
  --role roles/iam.workloadIdentityUser \
  --member "serviceAccount:$PROJECT_ID.svc.id.goog[rafiki/rafiki-ksa]" \
  rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com

# Annotate Kubernetes service account
kubectl annotate serviceaccount rafiki-ksa \
  --namespace=rafiki \
  iam.gke.io/gcp-service-account=rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com
```

## API Enablement

### Step 1: Enable Required APIs

```bash
# Core APIs for GKE and compute
gcloud services enable container.googleapis.com
gcloud services enable compute.googleapis.com
gcloud services enable containerregistry.googleapis.com
gcloud services enable artifactregistry.googleapis.com

# Storage and database APIs
gcloud services enable storage.googleapis.com
gcloud services enable sql.googleapis.com
gcloud services enable redis.googleapis.com

# Networking APIs
gcloud services enable dns.googleapis.com
gcloud services enable networkmanagement.googleapis.com
gcloud services enable servicenetworking.googleapis.com

# Security and monitoring APIs
gcloud services enable cloudasset.googleapis.com
gcloud services enable cloudresourcemanager.googleapis.com
gcloud services enable monitoring.googleapis.com
gcloud services enable logging.googleapis.com

# Certificate management
gcloud services enable certificatemanager.googleapis.com
gcloud services enable networkconnectivity.googleapis.com

# Additional security APIs
gcloud services enable cloudkms.googleapis.com
gcloud services enable secretmanager.googleapis.com
gcloud services enable binaryauthorization.googleapis.com
```

### Step 2: Verify API Enablement

```bash
# List all enabled APIs
gcloud services list --enabled

# Check specific API status
gcloud services list --enabled --filter="NAME:container.googleapis.com"
```

### Step 3: Set API Usage Quotas (if needed)

```bash
# Check current quotas
gcloud compute project-info describe --format="table(quotas.metric,quotas.limit,quotas.usage)"

# Request quota increase if needed
echo "If you need quota increases, visit:"
echo "https://console.cloud.google.com/iam-admin/quotas"
```

## IAM Permissions Configuration

### Step 1: Assign Roles to User Account

```bash
# Get your user account email
export USER_EMAIL=$(gcloud config get-value account)

# Assign required roles to your user account
gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="user:$USER_EMAIL" \
  --role="roles/container.admin"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="user:$USER_EMAIL" \
  --role="roles/compute.admin"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="user:$USER_EMAIL" \
  --role="roles/storage.admin"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="user:$USER_EMAIL" \
  --role="roles/dns.admin"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="user:$USER_EMAIL" \
  --role="roles/iam.serviceAccountAdmin"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="user:$USER_EMAIL" \
  --role="roles/resourcemanager.projectIamAdmin"
```

### Step 2: Assign Roles to Service Accounts

```bash
# Roles for Rafiki application service account
gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="serviceAccount:rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/storage.objectViewer"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="serviceAccount:rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/monitoring.metricWriter"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="serviceAccount:rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/logging.logWriter"

# Roles for GKE node service account
gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="serviceAccount:rafiki-node-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/container.nodeServiceAgent"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="serviceAccount:rafiki-node-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/storage.objectViewer"

# Roles for CI/CD service account
gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="serviceAccount:rafiki-cicd-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/container.developer"

gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member="serviceAccount:rafiki-cicd-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/storage.admin"
```

### Step 3: Create Custom IAM Role (if needed)

```bash
# Create custom role for specific Rafiki permissions
cat <<EOF > rafiki-custom-role.yaml
title: "Rafiki Custom Role"
description: "Custom role for Rafiki application with minimal required permissions"
stage: "GA"
includedPermissions:
- container.clusters.get
- container.clusters.list
- storage.objects.create
- storage.objects.delete
- storage.objects.get
- storage.objects.list
- monitoring.timeSeries.create
- logging.logEntries.create
EOF

# Create the custom role
gcloud iam roles create rafikiCustomRole \
  --project=$PROJECT_ID \
  --file=rafiki-custom-role.yaml
```

## Network Infrastructure Setup

### Step 1: Create VPC Network

```bash
# Create custom VPC network
gcloud compute networks create rafiki-vpc \
  --subnet-mode=custom \
  --bgp-routing-mode=regional

# Create subnet for GKE cluster
gcloud compute networks subnets create rafiki-subnet \
  --network=rafiki-vpc \
  --range=10.0.0.0/16 \
  --region=us-central1 \
  --secondary-range=pods=10.1.0.0/16,services=10.2.0.0/16

# Create subnet for private services (Cloud SQL, etc.)
gcloud compute networks subnets create rafiki-private-subnet \
  --network=rafiki-vpc \
  --range=10.3.0.0/16 \
  --region=us-central1
```

### Step 2: Configure Firewall Rules

```bash
# Allow internal communication
gcloud compute firewall-rules create rafiki-allow-internal \
  --network=rafiki-vpc \
  --allow=tcp,udp,icmp \
  --source-ranges=10.0.0.0/8

# Allow SSH access (for debugging)
gcloud compute firewall-rules create rafiki-allow-ssh \
  --network=rafiki-vpc \
  --allow=tcp:22 \
  --source-ranges=0.0.0.0/0 \
  --target-tags=ssh-allowed

# Allow HTTPS traffic
gcloud compute firewall-rules create rafiki-allow-https \
  --network=rafiki-vpc \
  --allow=tcp:443 \
  --source-ranges=0.0.0.0/0 \
  --target-tags=https-server

# Allow HTTP traffic (for health checks)
gcloud compute firewall-rules create rafiki-allow-http \
  --network=rafiki-vpc \
  --allow=tcp:80 \
  --source-ranges=0.0.0.0/0 \
  --target-tags=http-server

# Allow load balancer health checks
gcloud compute firewall-rules create rafiki-allow-health-checks \
  --network=rafiki-vpc \
  --allow=tcp \
  --source-ranges=130.211.0.0/22,35.191.0.0/16 \
  --target-tags=gke-cluster
```

### Step 3: Set Up Private Service Connection

```bash
# Reserve IP range for private services
gcloud compute addresses create google-managed-services-rafiki-vpc \
  --global \
  --purpose=VPC_PEERING \
  --prefix-length=16 \
  --network=rafiki-vpc

# Create private connection
gcloud services vpc-peerings connect \
  --service=servicenetworking.googleapis.com \
  --ranges=google-managed-services-rafiki-vpc \
  --network=rafiki-vpc
```

### Step 4: Create Cloud NAT (for private nodes)

```bash
# Create Cloud Router
gcloud compute routers create rafiki-router \
  --network=rafiki-vpc \
  --region=us-central1

# Create Cloud NAT
gcloud compute routers nats create rafiki-nat \
  --router=rafiki-router \
  --region=us-central1 \
  --nat-all-subnet-ip-ranges \
  --auto-allocate-subnetwork-range
```

## DNS Setup

### Step 1: Create Cloud DNS Zone

```bash
# Set your domain name
export DOMAIN_NAME="your-bank-domain.com"

# Create DNS zone
gcloud dns managed-zones create rafiki-zone \
  --description="DNS zone for Rafiki deployment" \
  --dns-name=$DOMAIN_NAME \
  --visibility=public

# Get name servers
gcloud dns managed-zones describe rafiki-zone \
  --format="value(nameServers[].join(' '))"
```

### Step 2: Configure Domain Registrar

```bash
echo "Update your domain registrar with these name servers:"
gcloud dns managed-zones describe rafiki-zone \
  --format="table(nameServers[].join(chr(10)))"

echo ""
echo "Steps to update at your domain registrar:"
echo "1. Log into your domain registrar's control panel"
echo "2. Find DNS or Name Server settings"
echo "3. Replace existing name servers with the ones listed above"
echo "4. Save changes (may take 24-48 hours to propagate)"
```

### Step 3: Create Initial DNS Records

```bash
# Reserve static IP for load balancer
gcloud compute addresses create rafiki-static-ip \
  --global

# Get the IP address
export STATIC_IP=$(gcloud compute addresses describe rafiki-static-ip \
  --global --format="get(address)")

# Create A record for main domain
gcloud dns record-sets transaction start --zone=rafiki-zone

gcloud dns record-sets transaction add $STATIC_IP \
  --name=$DOMAIN_NAME. \
  --ttl=300 \
  --type=A \
  --zone=rafiki-zone

# Create A records for subdomains
gcloud dns record-sets transaction add $STATIC_IP \
  --name=admin.$DOMAIN_NAME. \
  --ttl=300 \
  --type=A \
  --zone=rafiki-zone

gcloud dns record-sets transaction add $STATIC_IP \
  --name=auth.$DOMAIN_NAME. \
  --ttl=300 \
  --type=A \
  --zone=rafiki-zone

gcloud dns record-sets transaction execute --zone=rafiki-zone
```

## Security Configuration

### Step 1: Enable Security Features

```bash
# Enable Security Command Center (if available in your region)
gcloud alpha scc settings enable --organization=$(gcloud organizations list --format="value(name)")

# Enable audit logging
cat <<EOF > audit-policy.yaml
auditConfigs:
- service: allServices
  auditLogConfigs:
  - logType: ADMIN_READ
  - logType: DATA_READ
  - logType: DATA_WRITE
EOF

gcloud logging sinks create rafiki-audit-sink \
  storage.googleapis.com/rafiki-audit-logs-$PROJECT_ID \
  --log-filter='protoPayload.serviceName="container.googleapis.com"'
```

### Step 2: Set Up Secret Manager

```bash
# Create secrets in Secret Manager
echo -n "$(openssl rand -base64 32)" | \
  gcloud secrets create rafiki-database-password --data-file=-

echo -n "$(openssl rand -base64 64)" | \
  gcloud secrets create rafiki-jwt-secret --data-file=-

echo -n "$(openssl rand -base64 32)" | \
  gcloud secrets create rafiki-webhook-secret --data-file=-

# Grant access to service account
gcloud secrets add-iam-policy-binding rafiki-database-password \
  --member="serviceAccount:rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/secretmanager.secretAccessor"

gcloud secrets add-iam-policy-binding rafiki-jwt-secret \
  --member="serviceAccount:rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/secretmanager.secretAccessor"

gcloud secrets add-iam-policy-binding rafiki-webhook-secret \
  --member="serviceAccount:rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com" \
  --role="roles/secretmanager.secretAccessor"
```

### Step 3: Configure Binary Authorization (Optional)

```bash
# Create Binary Authorization policy
cat <<EOF > binary-authorization-policy.yaml
defaultAdmissionRule:
  requireAttestationsBy: []
  enforcementMode: ENFORCED_BLOCK_AND_AUDIT_LOG
  evaluationMode: REQUIRE_ATTESTATION
clusterAdmissionRules:
  us-central1-a.rafiki-cluster:
    requireAttestationsBy: []
    enforcementMode: ENFORCED_BLOCK_AND_AUDIT_LOG
    evaluationMode: ALWAYS_ALLOW
EOF

gcloud container binauthz policy import binary-authorization-policy.yaml
```

## Verification and Testing

### Step 1: Verify Project Setup

```bash
# Check project configuration
gcloud config list

# Verify billing is enabled
gcloud billing projects describe $PROJECT_ID

# Check enabled APIs
gcloud services list --enabled | grep -E "(container|compute|storage|dns)"
```

### Step 2: Test Network Connectivity

```bash
# Test VPC creation
gcloud compute networks describe rafiki-vpc

# Test subnet creation
gcloud compute networks subnets describe rafiki-subnet --region=us-central1

# Test firewall rules
gcloud compute firewall-rules list --filter="network:rafiki-vpc"
```

### Step 3: Test DNS Configuration

```bash
# Test DNS zone
gcloud dns managed-zones describe rafiki-zone

# Test DNS resolution (may take time to propagate)
nslookup $DOMAIN_NAME
```

### Step 4: Test Service Account Permissions

```bash
# Test service account impersonation
gcloud auth activate-service-account --key-file=rafiki-sa-key.json

# Test basic permissions
gcloud compute instances list
gcloud container clusters list

# Switch back to user account
gcloud auth login
```

### Step 5: Create Test Resources

```bash
# Create a small test VM to verify setup
gcloud compute instances create test-vm \
  --zone=us-central1-a \
  --machine-type=e2-micro \
  --subnet=rafiki-subnet \
  --no-address \
  --image-family=ubuntu-2004-lts \
  --image-project=ubuntu-os-cloud \
  --tags=ssh-allowed

# Test SSH access (should work through Cloud NAT)
gcloud compute ssh test-vm --zone=us-central1-a --command="curl -s http://metadata.google.internal/computeMetadata/v1/instance/hostname -H 'Metadata-Flavor: Google'"

# Clean up test VM
gcloud compute instances delete test-vm --zone=us-central1-a --quiet
```

## Environment Variables Export

### Step 1: Create Environment Configuration File

```bash
# Create environment configuration file
cat <<EOF > rafiki-env.sh
#!/bin/bash
# Rafiki GCP Environment Configuration

export PROJECT_ID="$PROJECT_ID"
export PROJECT_NAME="$PROJECT_NAME"
export BILLING_ACCOUNT_ID="$BILLING_ACCOUNT_ID"
export DOMAIN_NAME="$DOMAIN_NAME"
export STATIC_IP="$STATIC_IP"

# GCP Configuration
export REGION="us-central1"
export ZONE="us-central1-a"
export CLUSTER_NAME="rafiki-cluster"
export NAMESPACE="rafiki"

# Network Configuration
export VPC_NAME="rafiki-vpc"
export SUBNET_NAME="rafiki-subnet"

# Service Accounts
export RAFIKI_SA="rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com"
export NODE_SA="rafiki-node-sa@$PROJECT_ID.iam.gserviceaccount.com"
export CICD_SA="rafiki-cicd-sa@$PROJECT_ID.iam.gserviceaccount.com"

# DNS Configuration
export DNS_ZONE="rafiki-zone"

echo "GCP environment configured for Rafiki deployment"
echo "Project ID: \$PROJECT_ID"
echo "Domain: \$DOMAIN_NAME"
echo "Static IP: \$STATIC_IP"
EOF

chmod +x rafiki-env.sh
```

### Step 2: Load Environment

```bash
# Source the environment
source rafiki-env.sh

# Add to your shell profile for persistence
echo "source $(pwd)/rafiki-env.sh" >> ~/.bashrc
```

## Final Verification Checklist

Create a verification script to ensure everything is set up correctly:

```bash
#!/bin/bash
# rafiki-verification.sh

echo "🔍 Verifying GCP Prerequisites for Rafiki Deployment"
echo "=================================================="

# Check if project is set
echo -n "✅ Project configuration: "
if [ "$(gcloud config get-value project)" == "$PROJECT_ID" ]; then
  echo "✓ Configured correctly"
else
  echo "❌ Project not set correctly"
  exit 1
fi

# Check billing
echo -n "✅ Billing status: "
if gcloud billing projects describe $PROJECT_ID --format="value(billingEnabled)" | grep -q "True"; then
  echo "✓ Billing enabled"
else
  echo "❌ Billing not enabled"
  exit 1
fi

# Check required APIs
echo "✅ Required APIs:"
APIS=("container.googleapis.com" "compute.googleapis.com" "storage.googleapis.com" "dns.googleapis.com")
for api in "${APIS[@]}"; do
  if gcloud services list --enabled --filter="NAME:$api" --format="value(NAME)" | grep -q "$api"; then
    echo "  ✓ $api"
  else
    echo "  ❌ $api not enabled"
    exit 1
  fi
done

# Check VPC
echo -n "✅ VPC Network: "
if gcloud compute networks describe rafiki-vpc &>/dev/null; then
  echo "✓ VPC created"
else
  echo "❌ VPC not found"
  exit 1
fi

# Check DNS
echo -n "✅ DNS Zone: "
if gcloud dns managed-zones describe rafiki-zone &>/dev/null; then
  echo "✓ DNS zone created"
else
  echo "❌ DNS zone not found"
  exit 1
fi

# Check service accounts
echo -n "✅ Service Accounts: "
if gcloud iam service-accounts describe rafiki-sa@$PROJECT_ID.iam.gserviceaccount.com &>/dev/null; then
  echo "✓ Service accounts created"
else
  echo "❌ Service accounts not found"
  exit 1
fi

echo ""
echo "🎉 All prerequisites verified successfully!"
echo "You're ready to proceed with Rafiki deployment."
```

Make the script executable and run it:

```bash
chmod +x rafiki-verification.sh
./rafiki-verification.sh
```

## Next Steps

After completing all prerequisites:

1. **Save all generated keys and configuration files securely**
2. **Document your specific configuration values**
3. **Proceed to the main Rafiki deployment guide**
4. **Set up monitoring and alerting for your GCP resources**

## Cost Optimization Tips

To minimize costs during setup and testing:

```bash
# Set up automatic cleanup for test resources
gcloud compute instances list --format="value(name,zone)" | \
while read name zone; do
  if [[ $name == test-* ]]; then
    gcloud compute instances delete $name --zone=$zone --quiet
  fi
done

# Set up budget alerts to avoid unexpected charges
gcloud billing budgets create \
  --billing-account=$BILLING_ACCOUNT_ID \
  --display-name="Rafiki Development Budget" \
  --budget-amount=50USD \
  --threshold-rule=percent=80,basis=CURRENT_SPEND
```

This comprehensive setup ensures your GCP environment is properly configured for a production-ready Rafiki deployment with all necessary security, networking, and access controls in place.
